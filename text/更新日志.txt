2025-11-06
将怪话修改为分群记录（未正式启用）
提高怪话条目上限，微调智能怪话触发概率

2025-11-04
修改加群申请审核逻辑以适应SYSU群管理需求

2025-11-02
新增奶龙检测模型，把该模型和#nsfw功能独立整合为一个文件
重新设计reply流，为#nsfw新增了黑暗决斗，为奶龙检测新增了奶龙决斗

2025-10-31
更新萨莉亚菜单（By @TransparentLC）

2025-10-20
规范定时任务的名称，max_instances和misfire_grace_time，防止重要任务被跳过
修正交易记录和上期交易总结的草数没有千位分隔符的问题
修正#指令响应器对无文本消息报错的问题
修正chatn5打错别名的问题
把群聊log同步到控制台

2025-10-13
新增了猫猫虫图库

2025-10-07
草转让时支持草数携带千位分隔符，方便复制
新增了俊达萌美图图库

2025-10-03
chatapi新增对gemini的支持（暂为自用）

2025-09-30
重做chatapi权限管理系统，现在在群聊中使用chat无需授权
重做token计算机制，设置了每日每用户token使用上限
怪话，算卦模块使用的大模型从gpt切换到deepseek
所有使用gpt4的地方升级到gpt5

2025-09-27
草精排行榜现在也展示查询者当前排行和与前后一名的距离

2025-09-24
重新设计了图库文件结构，添加了土豆和俊达萌两个新图库
把所有图库的图片上传和审核集成到同一个入口

2025-09-16
微调敏感词展示规则，从替换为星号变成直接消除
为仓库和G交易相关指令中显示的草量加上了千位分隔符

2025-08-04
新增了捐款记录和投喂者称号的自动关联

2025-08-01
为SYSU幻想乡新增了随机触发消息拳击的功能

2025-07-25
优化私聊消息发送，现在仅会尝试对好友发送私聊

2025-06-28
更新萨莉亚随机点单菜单（By @TransparentLC）
雷达回波新增对所有省会城市的支持

2025-06-21
除草器生产环境总体迁移到新的环境，做了部分适应性修改
修复yandex搜图，去除google搜图（Google反机器人过于严格，不再适用）

2025-05-18
新增萨莉亚随机菜单功能（By @TransparentLC）

2025-04-18
为!说些怪话 指令也添加了大模型版本
修正250331版本上线后的线上bug

2025-03-31
新增了愚人节专用的SYSU幻想乡群名时钟
优化了大模型怪话的运行机制，节省token
重新整理了生产环境/测试环境标识和相关逻辑
暂时下线反撤回功能（由于napcat无法正确获取撤回消息）

2025-03-12
对原符卡对战系统涉及的文件进行归档

2025-03-08
添加了基于大模型的抽奖物品对战功能
修正了生草记录和生草打分榜的时区偏移问题

2025-02-24
为!说点怪话 指令添加了大模型筛选版本，提高智能程度

2025-02-19
在搜图模块添加了#开头的快捷指令模版
优化了搜图的输出结果和交互流程

2025-02-17
对大模型对话模块进行升级，现在支持调用deepseek

2025-01-21
为了避免风控，对生草系统进行了私聊流量控制优化
提高生草结算频率到15s

2025-01-06
新增抢草包模块（By @haoyun0）
总草精喜报阈值上调至80，连号喜报阈值上调至5及以上的四连（By @haoyun0）

2024-12-30
新增不灵草速生模块、不灵草灵生模块两个物品（By @haoyun0）
新增了生草打分和草精打分两个榜单

2024-12-27
G卖出指令支持更加复杂的配置
修正草压缩数值可为负的问题，新增草压缩记录
为G交易新增了印花税（卖出时收取0.05%）
上调生草质量4的效果（10% -> 12.5%）

2024-12-15
G买入指令支持更加复杂的配置（By @TransparentLC）
优化G线图的生成与输出方法（By @TransparentLC）

2024-12-02
添加配置项：接收物品转让时是否私聊提示

2024-11-27
优化抽奖系统物品详情文本

2024-11-25
在G周期结算信息中加入了上期G线图
修正!KUSA_RANK包含除草器本体的问题

2024-11-22
调整刷指令记录的清理逻辑（By @haoyun0）
生草的部分random替换为SystemRandom（By @haoyun0）

2024-11-10
新增冰雪酱的休耕魔法和休耕标记
新增机械臂和小号标记位，新增机械臂禁围殴策略
新增两个管理员功能：强制改名和可配置草精排行榜
调整连号魔法收益号段，略微增强连号
修正G周期跨月问题和抽奖系统的问题
取消双重围殴机制

2024-10-25
优化G市多个指令的输出格式
添加G市 !上周交易总结 指令
添加G周期结算后的本周期总结与G神公示
微调围殴停止机制，使不灵草围殴只能自然终止

2024-10-18
围殴速度优化，将小礼炮发送调整到喜报发送之前
新增商店和G市的后台交易记录，优化草精排行榜查询速度
添加G市 !交易总结 与 !交易记录 两个指令
添加了G市结算时间，每次开盘后前5分钟不可交易
草精排行榜不再显示近90天内无生草记录的人（By @haoyun0）
修正大额草转让没有私聊提示的问题

2024-10-14
新增主群加群审核机制，自动屏蔽广告机（By @TransparentLC）
支持按信息员等级查询草精榜，新增草精新星榜（By @haoyun0）
暂时下线奶龙杀手模块

2024-10-10
修正一系列生产环境线上问题
调整生草质量1-3的数值，调整围殴收益和时间限制

2024-10-06
新增奶龙杀手模块（测试）

2024-10-04
生草时间机制重做，由倒计时改为timestamp
捐助统计模块重做，分离了捐助统计数据库，不再依附user
试做生草、时限物品清理等timer的性能优化
修复生产环境图库上传和共享魔法的bug
好友码逻辑改回原状

2024-09-26
新增过载结束提示和G市重置抛售提示两个配置项
修改物品时限字段，由datetime改为timestamp(int)

2024-09-12
优化好友码和刷指令判定，优化gpt prompt和超时设定
添加配置项：过载完成提示，G市重置提示

2024-08-25
新增草种：不灵草、灵灵草、巨巨草、速速草、巨灵草
新增单次生草50草精的喜报，优化整体生草逻辑

2024-07-26
切换模型到gpt-4o，修正gpt图片问题
为雷达回波查询添加更多站点

2024-07-20
支持在指定群聊中无限使用gpt3.5

2024-07-15
新增雷达回波图查询功能
chat4支持图片输入，不再使用chatpic指令

2024-06-20
台风报文优化和文本优化

2024-05-31
把时光魔法瞬发机制改回原样，时光标记仅用于辅助
重做了台风报文部分，切换了数据源

2024-05-29
修改数据库连接基础配置，调整隔离级别

2024-05-21
重做时光魔法机制（使用时光标记）
优化商店部分代码
新增柠檬机

2024-05-15
更新chat模型到gpt-4o，优化chatapi
解决了安卓qq部分图片获取异常的问题

2024-05-13
新增临时物品机制，新增生草过载机制（过载标记）
新增物品：奈奈的过载魔法，蕾米球的生产魔法，奈奈的时光魔法

2024-05-10
新增对gpt4的快速调用(chat4)，新增gpt失败重试机制

2024-04-29
草转让代码优化，物品操作和草转让时的数量支持使用k,m,b标记

2024-04-20
围殴整体重构，支持并行围殴
新增物品：除草器的共享魔法，小礼炮
添加获取科技等级接口，优化部分代码

2024-04-13
新增校园网通知及寒暑假期间网络服务暂停提醒（By @TransparentLC）

2024-03-30
解决喜报围殴的异步问题，上线围殴功能

2024-03-28
完善抽奖奖池功能，新增 !奖池列表 与 !最新奖品 指令
修改抽奖指令中的“物品”为“奖品”（原指令依然可用）

2024-03-26
创建一条直接调用go-cqhttp的api的路径
实现群头像自动旋转功能

2024-03-07
优化chatGPT Api代码，切换到新版本模型，新增对gpt4的快速调用(chatn4, chatc4)

2024-02-25
新增物品：生草数量2，生草数量3，生草数量4，核心效率2，核心效率3，核心效率4，草厂效率3，草厂效率4，试做机器2，生草质量4，生草控制，生草控制论
草地，核心厂，生草机器改为阶梯价格方案

2024-02-17
修正一些线上问题，下线新春物品发放代码

2024-02-08
生草系统道具底层大改，去除多余字，商店新增前置物品机制，整合物品购买指令
新增物品：草之精华魔法入门，纯酱的生草魔法，草精炼厂效率II，奖券印刷机，奖券合成机
调整了工业生产代码位置，新增工业产量统计
新增临时的新春物品发放代码

2024-01-09
算卦模块新增GPT解卦，调整输出文本

2023-12-26
修复新抽奖模块的一系列问题
修复生草每日总结和红茶池结算的问题
修复大小预知同时存在时额外消耗承载力的问题

2023-12-19
抽奖模块大改，新增高级十连，新增奖池机制，新增物品分页展示
新增物品：高级十连券，特级十连券，天琴十连券，骰子碎片

2023-12-04
新增算卦模块（基于铜钱起卦与朱熹变占法）

2023-11-28
更换G市随机数算法，解决G市可被预测的问题（By @TransparentLC）

2023-11-16
重做搜图模块，采用聚合搜索方案

2023-11-14
新增抽奖物品模糊搜索功能（By @TransparentLC）

2023-11-12
新增生草日报、周报和每周总结（By @haoyun0）

2023-11-06
新增生草排行榜定时播报功能（By @haoyun0）

2023-11-03
新增生草统计和生草简报功能（By @TransparentLC）
新增生草喜报&悲报功能（By @haoyun0）

2023-11-02
符卡对战系统v0.02上线，优化交互，新增随机配卡，新增单机对战（测试）
新增部分红魔乡符卡，开放总符卡限制到cost7，单符卡限制到cost3
新增物品：土壤保护装置，生草预知，初级生草预知，高效草精炼指南
新增生草低承载力提示和默认草种配置功能，优化生草相关文本
新增自定义配置功能，使用!配置列表 查看当前配置，使用!配置 [配置名] [on/off]修改配置
新增商店浮动价格机制和相关的批量购买机制，优化工厂批量购买
新增好友码和自动添加好友机制
新增图片链接提取功能(!picurl)
新增草精历史统计和草精排行榜
弥补除草器-用户草循环缺失的部分
chatGPT api的模型选择机制重新加回去了
开源化调整，移除部分敏感信息
基础数据库信息变动

2023-09-24
新符卡对战系统v0.01上线，包含基础符卡
称号系统完善，称号作为特殊物品配置
修复线上bug，集中调整旧模块代码

2023-08-19
支持使用 !能力 指令查看当前所拥有的能力和图纸
调整了工厂核心数增长曲线的不合理部分
优化生草显示，新增生草草种机制和草种，新增草压缩能力（草->草精）
新增图纸：巨草基因图谱，速草基因图谱，预知草基因图谱，半灵草基因图谱，草之精华构造图
新增能力：生草质量III，试做型机器I，生草工厂新型设备I，草精炼厂效率I，扭秤稳定理论
新增建筑：流动生草工厂，草压缩基地，红茶池
数值调整：生草质量II，核心工厂效率I，核心装配工厂
开放7级、8级信息员升级
添加搜图功能，使用!saucenao进行搜图
修复线上bug，优化代码
一些待发现的修改

2023-06-18
新增了道具：除草机、侦察凭证
调整了数值：生草工厂效率I和II、扭秤装置
新增了草地土壤承载力和除草机制
优化了商店和进阶商店的显示逻辑
修复一些线上bug

2023-06-08
拆分kusa_field数据连接层
百草园添加土壤承载力概念，添加除草功能
调整扭秤装置上限到50
优化商店显示

2023-06-05
修正一些新版本的线上bug，优化文本
添加物品“红茶”，能力“核心工厂效率I”
增强“生草工厂效率II”的效果

2023-06-03
生草系统相关的数据结构重做，基础功能进行相应变更。
持久化层从csv表格迁移到sqlite数据库。
开放用户名称自定义，可通过“!改名 [新名字]”修改除草器对你的称呼。
新增道具商店机制，使用“!商店”指令查看对应信息。
过往的部分道具购买指令整合到商店，原指令废弃。
现在允许部分消耗性道具的卖出和转让。
原“!转让”指令废弃，现在可以使用“!草转让”和“!道具转让”两个指令。
生草机制重做，现在生草需要草地，可以在商店购买更多的草地。
生草基础产量从0~5上调到0~10。
金坷垃降价至每个4草，但每次生草，每块草地都消耗一个金坷垃。
去除了牛机制和围栏机制。
生草机器的上限统一调整为400，不再受信息员等级的影响。
新增核心装配工厂，每天生成一定量的自动化核心。
新增扭秤装置，在G市更新时可以自动生成一定量随机校区的G。
新增生草工业园区蓝图和草精炼厂，用于生产“草之精华”。
新增一些需要使用“草之精华”购买的项目，详情查看“!进阶商店”。
原有信息员等级提升指令全部废弃，统一使用新指令“!信息员升级”。
开放新的信息员等级：5级“天琴信息员”和6级“？”。
取消了抽奖机坏掉的机制，现在在测G群外的地方抽奖只会获得随机口球。
新增消耗性道具“量子护盾”，降低50%抽到口球的概率，仅能在测G群使用。
新增抽奖十连抽功能，每次需要消耗一张“十连券”，仅能在测G群使用。
取消说些怪话的信息员等级限制，下调怪话数量至三句，说些怪话不再出现图片。
移除建筑材料，并提供了草补偿：土(200草), 木(200草)， 石(500草)，钢(1500草）。
移除三味书屋和研究院两个建筑，对之前建设这两个建筑的用户，每个建筑补偿[19200*玩家工厂数]草。
因上线前两天的草系统异常，对全体用户补偿了两天的工厂生草量，对受影响者补偿了额外的320000草。
其它未知的bug和隐藏特性。

新增的称号：
“开发组”：除草器开发者的专属称号。总计发放了2个。
“猫粮供应商”：对除草器进行了大额投喂的用户可获得此称号。总计发放了2个。
“疯狂信息员”：在爱发电“疯狂信息员”赞助方案中投喂过的用户可获得此称号。总计发放了1个。
“大草本家”：在版本更新前建设50个或以上生草工厂的用户可获得此称号。总计发放了8个。
“银行家”：银行1.0和银行2.0建设者的专属称号。总计发放了2个。
“无敌暴龙战神”：用户FFH的专属称号。总计发放了1个。

2023-05-12
GPT模块功能优化。

2023-05-04
原GPT模块废弃，使用api版本的GPT模块进行替代。

2023-02-23
添加chatGPT模块。

2022-12-06
新增了维护补偿-特殊抽奖机制。

2022-11-29
新增了工作日志发送机制，并部署了日志专用群聊。
新增了每日新闻播报模块，当前仅在个别群试用。
新增了撤回消息监测机制。
修正了台风模块在台风首报时输出失败的问题。
优化了黑名单机制和抽奖物品详情信息。

2022-10-10
抽奖模块新增物品仓库，物品信息相关机制；抽奖抽爆的概率和恢复时间调整。
对网易云音乐搜索模块进行了临时适配。
修复百草园失效问题和G值波动范围偏大问题。

2022-09-16
添加rollxhb模块。

2022-09-15
添加简易工单模块。

2022-08-15
完成G值变动模块的数据库改造。

2022-08-01
进行全局代码优化。
进行去除建材系统和调整建筑模块的准备工作。

2022-07-29
完成抽奖模块的数据库改造。

2022-07-19
优化抽奖模块，修复线上问题。

2022-07-13
被迫上线新抽奖模块和符卡对战模块原型。

2022-07-04
完善台风模块，优化向前查询cma台风信息的指令。
完成符卡对战模块原型的数据库改造。

2022-06-13
改造罗图模块，完成罗图分池roll点和分池提交。

2022-05-03
去除签到指令，去除rollwife以外的所有roll亲属指令。

2022-03-30
调整怪话录入机制。

2022-03-24
新增群名片时间动态更新机制。

2022-03-08
新增数据库连接代码，完成数据库连接demo（捐赠者模块）。

2022-03-03
新增rollx指令(显示每个骰子的roll点)。

2021-12-17
添加指令可用群检测，完善除草器权限控制。

2021-11-18
新增自动建厂和自动建厂查询指令。

2021-10-25
新增罗图主动上传和审核指令。
